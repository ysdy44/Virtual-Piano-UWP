<Page
    x:Class="Virtual_Piano.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Virtual_Piano.Controls"
    xmlns:elements="using:Virtual_Piano.Elements"
    xmlns:notecontrols="using:Virtual_Piano.Midi.Controls"
    xmlns:strings="using:Virtual_Piano.Strings"
    mc:Ignorable="d"
    Background="{ThemeResource AppBackground}"
    >

    <!--Extension-->
    <FrameworkElement.Tag>
        <elements:ApplicationTitleBarExtension x:Name="ApplicationView" TitleBarColor="{ThemeResource AppBackgroundColor}"/>
    </FrameworkElement.Tag>

    <Grid>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="44"/>
                <RowDefinition Height="*" MinHeight="200"/>
                <RowDefinition Height="4"/>
                <RowDefinition Height="44"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!--Title
            <TextBlock Grid.Row="1" IsHitTestVisible="False" Margin="30,6" Foreground="White" FontSize="80" FontFamily="Kunstler Script" HorizontalAlignment="Right" VerticalAlignment="Top">
                Virtual Piano
            </TextBlock>
            -->

            <!--Head-->
            <ScrollViewer 
                ZoomMode="Disabled"
                 
                HorizontalScrollMode="Enabled"
                HorizontalScrollBarVisibility="Hidden"
                IsHorizontalScrollChainingEnabled="True"
              
                VerticalScrollMode="Disabled"
                VerticalScrollBarVisibility="Disabled"
                IsVerticalScrollChainingEnabled="False"
                >
                <FrameworkElement.Resources>
                    <!--Style-->
                    <Style TargetType="Button" BasedOn="{StaticResource TextBlockButtonStyle}">
                        <Setter Property="MinWidth" Value="44" />
                        <Setter Property="Height" Value="36" />
                        <Setter Property="FontSize" Value="10" />
                        <Setter Property="FontWeight" Value="Bold" />
                        <Setter Property="Padding" Value="2" />
                    </Style>
                </FrameworkElement.Resources>
                <StackPanel Padding="12,0" Orientation="Horizontal" Spacing="8" Height="36" Background="Black"  HorizontalAlignment="Center" VerticalAlignment="Center">

                    <ListView                        
                        SelectedIndex="0"
                        SelectionMode="Single"
                 
                        ScrollViewer.ZoomMode="Disabled"
                      
                        ScrollViewer.HorizontalScrollMode="Disabled"
                        ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                        ScrollViewer.IsHorizontalScrollChainingEnabled="False"
                 
                        ScrollViewer.VerticalScrollMode="Disabled"
                        ScrollViewer.VerticalScrollBarVisibility="Disabled"
                        ScrollViewer.IsVerticalScrollChainingEnabled="False"
                        >

                        <ItemsControl.ItemContainerTransitions>
                            <TransitionCollection>

                            </TransitionCollection>
                        </ItemsControl.ItemContainerTransitions>

                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="MinWidth" Value="54" />
                                <Setter Property="MaxWidth" Value="54" />
                                <Setter Property="Width" Value="54" />
                                <Setter Property="MinHeight" Value="36" />
                                <Setter Property="MaxHeight" Value="36" />
                                <Setter Property="Height" Value="36" />
                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                <Setter Property="VerticalContentAlignment" Value="Center" />
                            </Style>
                        </ItemsControl.ItemContainerStyle>

                        <ListViewItem>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Select
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <PathIcon>
                                <PathIcon.Data>
                                    M16,15L0,0L0,23L6,16L16,15ZM12.947,13.965L5.335,14.726L1.333,19.396C1.333,19.396 1.333,3.078 1.333,3.078L12.947,13.965Z
                                </PathIcon.Data>
                            </PathIcon>
                        </ListViewItem>

                        <ListViewItem>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Edit
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <PathIcon>
                                <PathIcon.Data>
                                    M0.883,0.005L5.733,1.036L18.814,14.118C20.102,15.406 20.102,17.497 18.814,18.785C17.526,20.072 15.435,20.072 14.147,18.785C14.081,18.719 14.019,18.651 13.96,18.581L1.074,5.695L0.005,0.824L0.883,0.005ZM14.571,17.088L15.208,17.724C15.91,18.426 17.051,18.426 17.753,17.724C18.456,17.021 18.456,15.881 17.753,15.178L5.379,2.804L5.36,2.823L2.046,2.036L2.833,5.35L13.511,16.027L16.056,13.481L17.117,14.542L14.571,17.088Z
                                </PathIcon.Data>
                            </PathIcon>
                        </ListViewItem>

                        <ListViewItem>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Delete
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <PathIcon>
                                <PathIcon.Data>
                                    M12.871,23L1.771,11.9L0,6.842L6.842,0L21.691,14.849L13.54,23L12.871,23ZM11.202,6.246L19.805,14.849C19.805,14.849 13.206,21.449 13.206,21.449L4.603,12.846L11.202,6.246ZM10.142,5.185L3.542,11.785L2.929,11.172C2.929,11.172 1.535,7.192 1.535,7.192C1.535,7.192 6.842,1.886 6.842,1.886L10.142,5.185Z
                                </PathIcon.Data>
                            </PathIcon>
                        </ListViewItem>

                    </ListView>

                    <Line Y1="10" Y2="28" StrokeThickness="1" Stroke="{ThemeResource SystemColorControlAccentBrush}"/>

                    <StackPanel Margin="2,0" Orientation="Horizontal">
                        <Button>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Pause
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <SymbolIcon Symbol="Pause"/>
                        </Button>
                        <Button>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Play
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <SymbolIcon Symbol="Play"/>
                        </Button>
                        <Button>
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Stop
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <SymbolIcon Symbol="Stop"/>
                        </Button>
                    </StackPanel>

                    <Line Y1="10" Y2="28" StrokeThickness="1" Stroke="{ThemeResource SystemColorControlAccentBrush}"/>

                    <StackPanel Margin="12,0" Orientation="Horizontal" Spacing="16">

                        <elements:DSTimer x:Name="DSTimer" Time="00:00:00.000"/>

                        <Button>
                            <TextBlock>
                                <Run></Run>
                                <Run FontSize="14">127</Run><Run FontSize="14">.</Run><Run>00</Run>
                                <LineBreak/>
                                <Run>Tempo</Run>
                            </TextBlock>
                        </Button>

                        <Button>
                            <TextBlock>
                                <Run></Run>
                                <Run FontSize="14">4</Run><Run FontSize="14">/</Run><Run FontSize="14">4</Run>
                                <LineBreak/>
                                <Run>Signature</Run>
                            </TextBlock>
                        </Button>

                    </StackPanel>

                </StackPanel>
            </ScrollViewer>

            <!--Body-->
            <SplitView
                Grid.Row="1"
                DisplayMode="Inline"
                OpenPaneLength="280"
                Background="{x:Null}"
                PaneBackground="{x:Null}"
                IsPaneOpen="{x:Bind ReverseBooleanNullableToBooleanConverter(DockLeftButton.IsChecked), Mode=OneWay}" 
                >
                <!--Left-->
                <SplitView.Pane>
                    <Grid Margin="4,0,0,6">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="44"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="6"/>
                            <RowDefinition Height="92"/>
                        </Grid.RowDefinitions>

                        <!--Head-->
                        <ListView
                            SelectedIndex="1"
                            SelectionMode="Single"
                        
                            ScrollViewer.ZoomMode="Disabled"
                          
                            ScrollViewer.HorizontalScrollMode="Enabled"
                            ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                            ScrollViewer.IsHorizontalScrollChainingEnabled="True"
                        
                            ScrollViewer.VerticalScrollMode="Disabled"
                            ScrollViewer.VerticalScrollBarVisibility="Disabled"
                            ScrollViewer.IsVerticalScrollChainingEnabled="False"
                            >

                            <ItemsControl.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="MinWidth" Value="54" />
                                    <Setter Property="MaxWidth" Value="54" />
                                    <Setter Property="Width" Value="54" />
                                    <Setter Property="MinHeight" Value="36" />
                                    <Setter Property="MaxHeight" Value="36" />
                                    <Setter Property="Height" Value="36" />
                                    <Setter Property="Background" Value="{ThemeResource AppFill}" />
                                    <Setter Property="HorizontalContentAlignment" Value="Center" />
                                    <Setter Property="VerticalContentAlignment" Value="Center" />
                                </Style>
                            </ItemsControl.ItemContainerStyle>

                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>

                            <ListViewItem x:Name="ListViewItem41">
                                <ToolTipService.ToolTip>
                                    <ToolTip>
                                        Sounds
                                    </ToolTip>
                                </ToolTipService.ToolTip>
                                <SymbolIcon Symbol="AllApps"/>
                            </ListViewItem>

                            <ListViewItem x:Name="ListViewItem42">
                                <ToolTipService.ToolTip>
                                    <ToolTip>
                                        Favorites
                                    </ToolTip>
                                </ToolTipService.ToolTip>
                                <SymbolIcon Symbol="SolidStar"/>
                            </ListViewItem>

                            <ListViewItem x:Name="ListViewItem43">
                                <ToolTipService.ToolTip>
                                    <ToolTip>
                                        Pedals
                                    </ToolTip>
                                </ToolTipService.ToolTip>
                                <SymbolIcon Symbol="CalendarWeek"/>
                            </ListViewItem>

                        </ListView>

                        <!--Body-->
                        <Grid Grid.Row="1">

                            <!--Sounds-->
                            <controls:InstrumentSplitView InstrumentGroupPanel="{x:Bind InstrumentGroupPanel}" Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem41.IsSelected), Mode=OneWay}">
                                <ScrollViewer>
                                    <controls:InstrumentGroupPanel x:Name="InstrumentGroupPanel" Command="{x:Bind Command}"/>
                                </ScrollViewer>
                            </controls:InstrumentSplitView>

                            <!--Favorite-->
                            <ScrollViewer Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem42.IsSelected), Mode=OneWay}">
                                <controls:InstrumentCollectionPanel ObservableCollection="{x:Bind Favorites}" Command="{x:Bind Command}"/>
                            </ScrollViewer>

                            <!--Pedal-->
                            <Grid ColumnSpacing="6" Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem43.IsSelected), Mode=OneWay}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <notecontrols:Pedal Controller="Sustain" BorderBrush="{ThemeResource AppFill}" Background="{ThemeResource AppForeground}" Command="{x:Bind Command}">
                                    Sustain
                                </notecontrols:Pedal>
                                <notecontrols:Pedal Grid.Column="1" Controller="AllNotesOff" BorderBrush="{ThemeResource AppFill}" Background="{ThemeResource AppForeground}" Command="{x:Bind Command}">
                                    SoftPedal
                                </notecontrols:Pedal>
                                <notecontrols:Pedal Grid.Column="2" Controller="Sostenuto" BorderBrush="{ThemeResource AppFill}" Background="{ThemeResource AppForeground}" Command="{x:Bind Command}">
                                    Sostenuto
                                </notecontrols:Pedal>
                            </Grid>

                        </Grid>

                        <!--Bar-->
                        <Grid Grid.Row="3" CornerRadius="6" Background="{ThemeResource AppForeground}">

                            <Button 
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                CommandParameter="{x:Bind DemoNote}"
                                Command="{x:Bind Command}"
                                Content="{x:Bind Favorites.String, Mode=OneWay}"
                                Style="{StaticResource TextBlockButtonStyle}"
                                >
                                <!--Content-->
                            </Button>

                            <elements:CommandCheckedButton
                                Width="44" 
                                Height="44" 
                                BorderBrush="Transparent"
                                Background="{ThemeResource AppForeground}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                IsChecked="{x:Bind Favorites.IsContains, Mode=OneWay}"
                                UncheckedSymbol="OutlineStar"
                                CheckedSymbol="SolidStar"
                                CommandParameter="{x:Bind Favorites.IsContains, Mode=OneWay}"
                                Command="{x:Bind Favorites.Command}"
                                Style="{StaticResource TextBlockButtonStyle}"
                                >
                                <ToolTipService.ToolTip>
                                    <ToolTip>
                                        Favorite
                                    </ToolTip>
                                </ToolTipService.ToolTip>
                            </elements:CommandCheckedButton>

                        </Grid>

                    </Grid>
                </SplitView.Pane>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="4"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!--Bar-->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="44"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="44"/>
                        </Grid.RowDefinitions>

                        <TextBlock 
                            FontFamily="Agency FB" 
                            FontWeight="Bold"
                            FontSize="16" 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center"
                            Text="{x:Bind DoubleToStringConverter(VelocitySlider.Value), Mode=OneWay}"
                            />

                        <Border
                            Grid.Row="1" 
                            Width="44"
                            CornerRadius="6"
                            BorderBrush="Transparent"
                            Background="{ThemeResource AppForeground}"
                            HorizontalAlignment="Center"
                            >
                            <notecontrols:VelocitySlider
                                x:Name="VelocitySlider"
                                Margin="0,12"
                                Value="127"
                                IsEnabled="True"
                                Maximum="127"
                                TickFrequency="32"
                                TickPlacement="Outside"
                                Orientation="Vertical"
                                IsThumbToolTipEnabled="False"
                                Controller="MainVolume"
                                Command="{x:Bind Command}"
                                />
                        </Border>

                        <notecontrols:VelocityToggleButton
                            Grid.Row="2" 
                            Margin="0,8" 
                            CornerRadius="4"
                            Width="44" 
                            Height="44" 
                            BorderBrush="Transparent"
                            Background="{ThemeResource AppForeground}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            IsChecked="{x:Bind VelocitySlider.IsEnabled, Mode=OneWay}"
                            Command="{x:Bind VelocitySlider}"
                            >
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Mute
                                </ToolTip>
                            </ToolTipService.ToolTip>
                        </notecontrols:VelocityToggleButton>

                        <ToggleButton x:Name="DockLeftButton" Grid.Row="3" IsChecked="False" Width="60" Padding="0" VerticalAlignment="Stretch" Style="{StaticResource TextBlockButtonStyle}">
                            <ToolTipService.ToolTip>
                                <ToolTip>
                                    Dock
                                </ToolTip>
                            </ToolTipService.ToolTip>
                            <SymbolIcon Symbol="DockLeft"/>
                        </ToggleButton>

                    </Grid>

                    <!--Separator-->
                    <Rectangle Grid.Column="1" Fill="{ThemeResource AppStroke}"/>

                    <Grid Grid.Column="2">
                        <notecontrols:TrackNotePanel x:Name="TrackNotePanel">
                            <notecontrols:PianoLeftPanel x:Name="PianoLeftPanel" Command="{x:Bind Command}"/>
                        </notecontrols:TrackNotePanel>
                    </Grid>

                </Grid>
            </SplitView>

            <!--ProgressBar-->
            <ProgressBar 
                x:Name="ProgressBar" 
                Grid.Row="2"
                Height="4" 
                Value="0"
                Background="{ThemeResource AppStroke}"
                />

            <!--Head-->
            <ListView
                Grid.Row="3"
                RequestedTheme="Dark"
                SelectedIndex="0"
                SelectionMode="Single"
         
                ScrollViewer.ZoomMode="Disabled"
              
                ScrollViewer.HorizontalScrollMode="Enabled"
                ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                ScrollViewer.IsHorizontalScrollChainingEnabled="True"
        
                ScrollViewer.VerticalScrollMode="Disabled"
                ScrollViewer.VerticalScrollBarVisibility="Disabled"
                ScrollViewer.IsVerticalScrollChainingEnabled="False"
                >

                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ListViewItem">
                        <Setter Property="MinWidth" Value="60" />
                        <Setter Property="MaxWidth" Value="60" />
                        <Setter Property="Width" Value="60" />
                        <Setter Property="MinHeight" Value="36" />
                        <Setter Property="MaxHeight" Value="36" />
                        <Setter Property="Height" Value="36" />
                        <Setter Property="Background" Value="Black" />
                        <Setter Property="HorizontalContentAlignment" Value="Center" />
                        <Setter Property="VerticalContentAlignment" Value="Center" />
                    </Style>
                </ItemsControl.ItemContainerStyle>

                <ListViewBase.Header>
                    <ToggleButton x:Name="DockButton" IsChecked="False" Width="60" Padding="0" VerticalAlignment="Stretch" Style="{StaticResource TextBlockButtonStyle}">
                        <ToolTipService.ToolTip>
                            <ToolTip>
                                Dock
                            </ToolTip>
                        </ToolTipService.ToolTip>
                        <SymbolIcon Symbol="DockBottom"/>
                    </ToggleButton>
                </ListViewBase.Header>

                <ListViewBase.Footer>
                    <Button Width="60" Padding="0" VerticalAlignment="Stretch" Style="{StaticResource TextBlockButtonStyle}">
                        <ToolTipService.ToolTip>
                            <ToolTip>
                                More
                            </ToolTip>
                        </ToolTipService.ToolTip>
                        <Button.Flyout>
                            <MenuFlyout Placement="Bottom">

                                <!--Piano-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowPianoView}"
                                    Text="{strings:Option Type=TryShowPianoView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem1.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>
                                <MenuFlyoutSeparator Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem1.IsSelected), Mode=OneWay}"/>
                                <ToggleMenuFlyoutItem
                                    x:Name="BendItem" 
                                    IsChecked="True" 
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem1.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="Rotate"/>
                                    </MenuFlyoutItem.Icon>
                                    Bend
                                </ToggleMenuFlyoutItem>
                                <ToggleMenuFlyoutItem 
                                    x:Name="BendPlacementItem"
                                    IsChecked="False" 
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem1.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="DockRight"/>
                                    </MenuFlyoutItem.Icon>
                                    Right
                                </ToggleMenuFlyoutItem>

                                <!--Chord-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowChordView}"
                                    Text="{strings:Option Type=TryShowChordView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem2.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>

                                <!--Drum-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowDrumView}"
                                    Text="{strings:Option Type=TryShowDrumView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem3.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>

                                <!--Guitar-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowGuitarView}"
                                    Text="{strings:Option Type=TryShowGuitarView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem4.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>

                                <!--Bass-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowBassView}"
                                    Text="{strings:Option Type=TryShowBassView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem5.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>

                                <!--Harp-->
                                <MenuFlyoutItem
                                    Command="{x:Bind Command}"
                                    CommandParameter="{strings:OptionType Type=TryShowHarpView}"
                                    Text="{strings:Option Type=TryShowHarpView}"
                                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem6.IsSelected), Mode=OneWay}"
                                    >
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="NewWindow"/>
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>

                            </MenuFlyout>
                        </Button.Flyout>
                        <SymbolIcon Symbol="More"/>
                    </Button>
                </ListViewBase.Footer>

                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <!--Piano-->
                <ListViewItem x:Name="ListViewItem1">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Piano
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M23 19V0H0v19h3.996v-8h-.991V0h3v11h-.991v8h5.979v-8h-.991V0h3v11h-.991v8h5.978v-8h-.991V0h3v11h-.991v8H23z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

                <!--Chord-->
                <ListViewItem x:Name="ListViewItem2">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Chord
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M0 14v6h6v-5.014H5V14H0z
                            m13 6v-1.5h-1v-3h1V14H8v.986H7V20h6z
                            m7 0v-6h-6v1.5h1v3h-1V20h6z
                            M12 8h1v5H8v-1.014H7V7h5v1z
                            m3-1v1h-1v5h6V7h-5z
                            m-9 4.986V7H0v6h5v-1.014h1z
                            M13 5V0H7v6h5V5h1z
                            M6 0H0v6h6V0z
                            m8 5h1v1h5V0h-6v5z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

                <!--Drum-->
                <ListViewItem x:Name="ListViewItem3">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Drum
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M24.721 15.48v1.019c-1.31 4.048-6.275 7.063-12.192 7.063S1.647 20.547.338 16.499V15.48c1.309 4.048 6.274 7.064 12.191 7.064 5.918 0 10.883-3.016 12.192-7.064z
                            m-20.63.872c2.134 1.329 4.885 2.163 7.904 2.252v2.855c-3.076-.098-5.853-1.03-7.904-2.49v-2.617z
                            m16.876 0v2.617c-2.051 1.46-4.828 2.392-7.904 2.49v-2.855c3.019-.089 5.771-.923 7.904-2.252z
                            m.96-.663c1.119-.858 2.012-1.869 2.61-2.984l.001.111c0 2.035-.977 3.906-2.611 5.384v-2.511z
                            M3.131 18.2C1.497 16.722.52 14.851.52 12.816l.001-.111c.598 1.115 1.491 2.126 2.61 2.984V18.2z
                            M12.529 0c6.915 0 12.529 3.982 12.529 8.886 0 4.905-5.614 8.887-12.529 8.887S0 13.791 0 8.886C0 3.982 5.614 0 12.529 0z
                            m0 .482c6.494 0 11.765 3.626 11.765 8.092 0 4.466-5.271 8.091-11.765 8.091C6.036 16.665.764 13.04.764 8.574.764 4.108 6.036.482 12.529.482z
                            m0 .51c6.027 0 10.921 3.352 10.921 7.48 0 4.129-4.894 7.481-10.921 7.481-6.027 0-10.921-3.352-10.921-7.481 0-4.128 4.894-7.48 10.921-7.48z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

                <!--Guitar-->
                <ListViewItem x:Name="ListViewItem4">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Guitar
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M11.919 0l6.284.001c.867.014 1.06 1.511 1.083 2.383.039 1.448-1.756 4.359-1.519 6.152.026.192.069.379.128.564.451.87 1.184 1.899 1.83 3.067.708 1.085 1.333 2.312 1.323 3.916l-.001.546c-.038 2.481-1.797 4.087-4.461 4.967-1.741.595-3.85.837-6.061.835
                            h-.002c-2.211.002-4.32-.24-6.061-.835-2.664-.88-4.423-2.486-4.461-4.967L0 16.083c-.01-1.604.615-2.831 1.323-3.916C1.969 11 2.702 9.971 3.153 9.1c.059-.185.102-.372.128-.564.237-1.793-1.558-4.704-1.519-6.152.023-.872.216-2.369 1.083-2.383L8.345 0 
                            v8.905a3.19 3.19 0 0 0-1.481 2.694 3.194 3.194 0 0 0 3.193 3.192 3.194 3.194 0 0 0 3.192-3.192 3.19 3.19 0 0 0-1.33-2.592V0z
                            m0 15.638H8.194v1.143h3.725v-1.143z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

                <!--Bass-->
                <ListViewItem x:Name="ListViewItem5">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Bass
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M11.891 1.004v5.479H8.165V.102L1.436.156C1.259 1.981 3.754 5.782 3.54 7.279 3.275 9.139 0 12.316 0 15.432c0 3.115 6.222 5.09 11.891 5.876 5.543.769 9.037-.299 9.252-3.294.305-4.256-3.607-5.689-3.607-9.475 0-1.809 1.824-4.593 1.785-6.041-.023-.873-.854-2.934-1.556-2.416-.987.729-1.321 3.239-3.6 3.299-1.121-.039-1.891-1.154-2.274-2.377z
                            m0 13.94H8.165v1.5h3.726v-1.5zm0-5.312H8.165v1.5h3.726v-1.5z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

                <!--Harp-->
                <ListViewItem x:Name="ListViewItem6">
                    <ToolTipService.ToolTip>
                        <ToolTip>
                            Harp
                        </ToolTip>
                    </ToolTipService.ToolTip>
                    <PathIcon HorizontalAlignment="Center" VerticalAlignment="Center">
                        <PathIcon.Data>
                            M10.5,19.5L12.5,19.5L12.5,21.5L0,21.5L0,19.5L0.5,19.5L0.5,16.5L1,16.5L1,4L0.5,4L0.5,0L4,0L4,0.5L6.5,0.5L8,1L9.5,2L10.5,3.5L11.5,5.5L12.5,6.5L13.5,7L15.5,6.5L18.5,5.5
                            L19.5,5.5L20.5,6.5L19.5,8.5L10.5,19.5ZM4,4L4,3.5L5.5,3.5L7,4L7.5,4.5L9,7.5L10,8.5L11,9L12.5,9.5L14,9.5L15.5,9L15.5,9.5L6.5,19.5L4,19.5L4,16.5L3.5,16.5L3.5,4L4,4Z
                        </PathIcon.Data>
                    </PathIcon>
                </ListViewItem>

            </ListView>

            <!--Foot-->
            <Grid Grid.Row="4" Height="240" Visibility="{x:Bind BooleanNullableToVisibilityConverter(DockButton.IsChecked), Mode=OneWay}">

                <!--Piano-->
                <SplitView
                    DisplayMode="Inline"
                    OpenPaneLength="136"
                    IsPaneOpen="{x:Bind BendItem.IsChecked, Mode=OneWay}" 
                    PanePlacement="{x:Bind BooleanToPlacementConverter(BendPlacementItem.IsChecked), Mode=OneWay}"
                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem1.IsSelected), Mode=OneWay}"
                    PaneBackground="{x:Null}"
                    Background="{x:Null}"
                    >

                    <Grid Margin="2,0" RowSpacing="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="36"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <notecontrols:PianoHorizontalScrollBar ItemSize="28" ScrollViewer="{x:Bind KeyboardScrollViewer}"/>
                        <ScrollViewer
                            x:Name="KeyboardScrollViewer"
                            Grid.Row="1"
                            ZoomMode="Disabled"
                             
                            HorizontalScrollMode="Enabled"
                            HorizontalScrollBarVisibility="Hidden"
                            IsHorizontalScrollChainingEnabled="True"
                          
                            VerticalScrollMode="Disabled"
                            VerticalScrollBarVisibility="Disabled"
                            IsVerticalScrollChainingEnabled="False"
                            
                            Background="Black"
                            >
                            <notecontrols:PianoTopPanel
                                x:Name="PianoTopPanel"
                                Label="CDE"
                                ItemSize="28"
                                WhiteSize="250" 
                                BlackSize="150" 
                                Command="{x:Bind Command}"
                                />
                        </ScrollViewer>
                    </Grid>

                    <SplitView.Pane>
                        <StackPanel Margin="0,4" Orientation="Horizontal" HorizontalAlignment="Center" BorderThickness="2" BorderBrush="{ThemeResource AppBorderBrush}">
                            <notecontrols:BendPitchWheel BorderBrush="{ThemeResource AppBorderBrush}" Background="{ThemeResource AppBorderBrush}" Foreground="{ThemeResource AppFill}" Command="{x:Bind Command}">
                                Pitch
                            </notecontrols:BendPitchWheel>
                            <notecontrols:BendModulationWheel BorderBrush="{ThemeResource AppBorderBrush}" Background="{ThemeResource AppBorderBrush}" Foreground="{ThemeResource AppFill}" Command="{x:Bind Command}">
                                Modulation
                            </notecontrols:BendModulationWheel>
                        </StackPanel>
                    </SplitView.Pane>
                </SplitView>

                <!--Chord-->
                <Grid ColumnSpacing="3" Margin="4" MaxWidth="900" Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem2.IsSelected), Mode=OneWay}">
                    <FrameworkElement.Resources>
                        <!--Style-->
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                            <Setter Property="Background" Value="#FCFCFC"/>
                        </Style>
                    </FrameworkElement.Resources>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Border>
                        <notecontrols:ChordPanel Chord="C" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="1">
                        <notecontrols:ChordPanel Chord="Dm" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="2">
                        <notecontrols:ChordPanel Chord="Em" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="3">
                        <notecontrols:ChordPanel Chord="F" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="4">
                        <notecontrols:ChordPanel Chord="G" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="5">
                        <notecontrols:ChordPanel Chord="Am" Command="{x:Bind Command}"/>
                    </Border>
                    <Border Grid.Column="6">
                        <notecontrols:ChordPanel Chord="Bdim" Command="{x:Bind Command}"/>
                    </Border>
                </Grid>

                <!--Drum-->
                <Grid Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem3.IsSelected), Mode=OneWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <ListView
                        SelectedIndex="0"
                        SelectionMode="Single"
                        >

                        <ItemsControl.ItemContainerTransitions>
                            <TransitionCollection>

                            </TransitionCollection>
                        </ItemsControl.ItemContainerTransitions>

                        <ItemsControl.ItemContainerStyle>
                            <Style TargetType="ListViewItem">
                                <Setter Property="MinWidth" Value="60" />
                                <Setter Property="MaxWidth" Value="60" />
                                <Setter Property="Width" Value="60" />
                                <Setter Property="MinHeight" Value="44" />
                                <Setter Property="MaxHeight" Value="44" />
                                <Setter Property="Height" Value="44" />
                                <Setter Property="HorizontalContentAlignment" Value="Center" />
                                <Setter Property="VerticalContentAlignment" Value="Center" />
                            </Style>
                        </ItemsControl.ItemContainerStyle>

                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Orientation="Vertical" VerticalAlignment="Center"/>
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ListViewItem x:Name="ListViewItem31">
                            Kit
                        </ListViewItem>

                        <ListViewItem x:Name="ListViewItem32">
                            Pads
                        </ListViewItem>

                        <ListViewItem x:Name="ListViewItem33">
                            All
                        </ListViewItem>

                        <ListViewItem x:Name="ListViewItem34">
                            Category
                        </ListViewItem>

                    </ListView>
                    <Grid Grid.Column="1">

                        <Border
                            Margin="2"
                            CornerRadius="4"
                            Background="{ThemeResource AppBackground}"
                            Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem31.IsSelected), Mode=OneWay}"
                            >
                            <Viewbox>
                                <notecontrols:KitPanel Command="{x:Bind Command}"/>
                            </Viewbox>
                        </Border>

                        <controls:DrumPanel 
                            x:Name="DrumPanel"
                            Command="{x:Bind Command}"
                            Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem32.IsSelected), Mode=OneWay}"
                            />

                        <ScrollViewer Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem33.IsSelected), Mode=OneWay}">
                            <controls:DrumGridView Command="{x:Bind Command}"/>
                        </ScrollViewer>

                        <controls:DrumSplitView
                            DrumPanel="{x:Bind DrumGridView}"
                            Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem34.IsSelected), Mode=OneWay}"
                            >
                            <ScrollViewer>
                                <controls:DrumCategoryGridView x:Name="DrumGridView" Command="{x:Bind Command}"/>
                            </ScrollViewer>
                        </controls:DrumSplitView>

                    </Grid>
                </Grid>

                <!--Guitar-->
                <Grid Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem4.IsSelected), Mode=OneWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <notecontrols:GuitarScrollBar Orientation="Vertical" VerticalAlignment="Center" ScrollViewer="{x:Bind GuitarScrollViewer}"/>
                    <ScrollViewer
                        x:Name="GuitarScrollViewer"
                        Grid.Column="1"
                        ZoomMode="Disabled"
                         
                        HorizontalScrollMode="Enabled"
                        HorizontalScrollBarVisibility="Hidden"
                        IsHorizontalScrollChainingEnabled="True"
                      
                        VerticalScrollMode="Disabled"
                        VerticalScrollBarVisibility="Disabled"
                        IsVerticalScrollChainingEnabled="False"
                        
                        Background="#CC9D55"
                        >
                        <notecontrols:GuitarPanel Command="{x:Bind Command}"/>
                    </ScrollViewer>
                </Grid>

                <!--Bass-->
                <Grid Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem5.IsSelected), Mode=OneWay}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <notecontrols:GuitarScrollBar Orientation="Vertical" VerticalAlignment="Center" ScrollViewer="{x:Bind BassScrollViewer}"/>
                    <ScrollViewer
                        x:Name="BassScrollViewer"
                        Grid.Column="1"
                        ZoomMode="Disabled"
                         
                        HorizontalScrollMode="Enabled"
                        HorizontalScrollBarVisibility="Hidden"
                        IsHorizontalScrollChainingEnabled="True"
                      
                        VerticalScrollMode="Disabled"
                        VerticalScrollBarVisibility="Disabled"
                        IsVerticalScrollChainingEnabled="False"
                        
                        Background="#22262F"
                        >
                        <notecontrols:BaseGuitarPanel Command="{x:Bind Command}"/>
                    </ScrollViewer>
                </Grid>

                <!--Harp-->
                <ScrollViewer
                    ZoomMode="Disabled"
                     
                    HorizontalScrollMode="Enabled"
                    HorizontalScrollBarVisibility="Hidden"
                    IsHorizontalScrollChainingEnabled="True"
                  
                    VerticalScrollMode="Disabled"
                    VerticalScrollBarVisibility="Disabled"
                    IsVerticalScrollChainingEnabled="False"
                    
                    Visibility="{x:Bind BooleanToVisibilityConverter(ListViewItem6.IsSelected), Mode=OneWay}"
                    >
                    <notecontrols:HarpPanel Command="{x:Bind Command}"/>
                </ScrollViewer>
                
            </Grid>

        </Grid>

    </Grid>
</Page>